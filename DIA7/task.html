<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tasks</title>
    <style>
        /* create your style here */
        del {
            text-decoration: none;
        }
        ins {
            text-decoration: none;
        }
    </style>
</head>

<body>

    <h2>
        Tasks
    </h2>

    <ol>
      <del><ins><li>wake up</li></ins></del>
    </ol>

    <input type="text" id="task">
    <button id="add_task_button">Add Task</button>


    <script>
         // Nombre ol
         const taskList = document.querySelector('ol')
//Selecciona el primer elemento <ol> del documento y lo guarda en la variable taskList.
// Es la lista donde se agregarán las tareas.
         const addTaskButton = document.getElementById('add_task_button');
//Guarda en addTaskButton el botón de agregar tarea (el que tiene id="add_task_button").
         addTaskButton.addEventListener('click', function () {
//Guarda el botón con id="add_task_button" en una variable para poder escuchar el clic del usuario.
             const taskInput = document.getElementById('task');
//Agrega un "escuchador" de eventos al botón.
//Cada vez que el usuario hace clic en el botón, se ejecuta la función que está entre llaves {...}.
             const taskValue = taskInput.value.trim()
             if (taskValue !== '') {
// taskInput → obtiene el campo de texto (<input id="task">).
// taskInput.value → toma lo que escribió el usuario.
// .trim() → elimina espacios al principio y al final.
// Resultado: taskValue es el texto limpio que escribió el usuario.

                 const currentIns = taskList.querySelector('ins');
                 if (currentIns) {
//Busca dentro de la lista (<ol>) si ya hay un elemento <ins> (la tarea más reciente marcada como “insertada”).
                     const delElement = document.createElement('del');
                     delElement.textContent = currentIns.textContent;
// if (currentIns)
// → Solo entra aquí si ya existe una tarea “nueva” (<ins>).

// document.createElement('del')
// → Crea un nuevo elemento <del> vacío.

// delElement.textContent = currentIns.textContent;
// Lee el texto que está dentro del elemento <ins> (por ejemplo "Wake up")
    //Escribe ese mismo texto dentro del nuevo <del>
// → Copia el texto del <ins> anterior (la tarea anterior) al nuevo <del>.
                     delElement.style.backgroundColor = 'lightcoral';
                     delElement.style.textDecoration = 'line-through';

                   
                    currentIns.parentNode.replaceChild(delElement, currentIns);
// reemplaza en el dom el ins por el del 
                }

                const newIns = document.createElement('ins');
                newIns.textContent = taskValue;
                newIns.style.backgroundColor = 'lightgreen';
                newIns.style.textDecoration = 'underline';

                const newTaskItem = document.createElement('li');
                newTaskItem.appendChild(newIns);
                taskList.appendChild(newTaskItem);

                taskInput.value = '';
            }
        });


    //     // Nombre input
    //     const taskInput = document.getElementById('task');
    //     // Nombre boton
    //     const addTaskButton = document.getElementById('add_task_button');

    //     addTaskButton.addEventListener('click', function () {

    //         // Valor input
    //         const taskValue = taskInput.value.tri
    //         if (taskValue !== ''){
    //     // Nombre ol
    //     const taskList = document.querySelector('ol');

    //     const newIns = document.createElement('ins')         
    //     newIns.textContent = taskValue;
    //      newIns.style.backgroundColor = 'lightgreen';
    //      newIns.style.textDecoration = 'underline';

    //      const newTaskItem = document.createElement('li');
    //      newTaskItem.appendChild(newIns);
    //     taskList.appendChild(newTaskItem);

    //     const previousItem = newTaskItem.previousElementSibling;

    //       if(previousItem){
    //         const previousIns = previousItem.querySelector('ins');
    //         if(previousIns){

    //             previousIns.style.backgroundColor = 'lightcoral';
    //             previousIns.style.textDecoration = 'line-through';
    //         }
    //       }
    //         taskInput.value = '';


    //     }
    // })
    </script>
</body>

</html>